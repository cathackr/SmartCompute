
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartCompute Industrial - AnÃ¡lisis en Tiempo Real</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        body {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 50%, #2980b9 100%);
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }
        .metric-card {
            transition: transform 0.3s ease;
            cursor: pointer;
        }
        .metric-card:hover {
            transform: translateY(-5px);
        }
        .status-excellent { color: #28a745; }
        .status-good { color: #ffc107; }
        .status-critical { color: #dc3545; }
        .chart-container {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }
        .chart-container-small {
            position: relative;
            height: 300px;
            margin: 15px 0;
        }
        .header-title {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: bold;
        }
        .pulse {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .real-time-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            background: #28a745;
            border-radius: 50%;
            animation: blink 1s infinite;
            margin-right: 8px;
        }
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }
        .network-node {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 15px;
            margin: 10px;
            text-align: center;
            color: white;
            font-weight: bold;
        }
        .network-connection {
            height: 3px;
            background: linear-gradient(90deg, #4ECDC4, #44A08D);
            margin: 5px 0;
            border-radius: 2px;
            animation: flow 2s infinite;
        }
        @keyframes flow {
            0% { opacity: 0.5; }
            50% { opacity: 1; }
            100% { opacity: 0.5; }
        }
        .export-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border: none;
            border-radius: 25px;
            color: white;
            padding: 10px 20px;
            margin: 5px;
            transition: all 0.3s ease;
        }
        .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            color: white;
        }
        .protocol-badge {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border-radius: 20px;
            padding: 8px 15px;
            margin: 5px;
            display: inline-block;
            font-size: 0.9rem;
        }
        .alarm-indicator {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }
        .alarm-critical { background-color: #dc3545; animation: pulse 1s infinite; }
        .alarm-high { background-color: #fd7e14; }
        .alarm-medium { background-color: #ffc107; }
        .alarm-low { background-color: #28a745; }
    </style>
</head>
<body>
    <div class="container-fluid py-4">
        <!-- Header -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="glass-card p-4 text-center">
                    <h1 class="header-title display-4 mb-3">
                        <i class="fas fa-industry me-3"></i>
                        SmartCompute Industrial
                    </h1>
                    <h2 class="text-white mb-3">
                        <span class="real-time-indicator"></span>
                        Monitoreo Industrial en Tiempo Real
                    </h2>
                    <div class="row text-white">
                        <div class="col-md-3">
                            <i class="fas fa-clock me-2"></i>
                            <strong>Actualizado:</strong> 2025-09-19 16:02:55
                        </div>
                        <div class="col-md-3">
                            <i class="fas fa-server me-2"></i>
                            <strong>Dispositivos:</strong> 85
                        </div>
                        <div class="col-md-3">
                            <i class="fas fa-cogs me-2"></i>
                            <strong>Procesos:</strong> 32
                        </div>
                        <div class="col-md-3">
                            <i class="fas fa-wifi me-2"></i>
                            <strong>Protocolos:</strong> 5
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- KPIs Row -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="glass-card p-4 text-center metric-card">
                    <div class="display-4 mb-2">
                        <i class="fas fa-heartbeat" style="color: #28a745"></i>
                    </div>
                    <h5 class="text-white">Salud del Sistema</h5>
                    <h3 class="text-white">ðŸŸ¢ EXCELENTE</h3>
                    <small class="text-light">CPU: 9.7%</small>
                </div>
            </div>
            <div class="col-md-3">
                <div class="glass-card p-4 text-center metric-card">
                    <div class="display-4 mb-2">
                        <i class="fas fa-shield-alt" style="color: #28a745"></i>
                    </div>
                    <h5 class="text-white">Score de Seguridad</h5>
                    <h3 class="text-white">94.2%</h3>
                    <small class="text-light">ðŸŸ¢ SEGURO</small>
                </div>
            </div>
            <div class="col-md-3">
                <div class="glass-card p-4 text-center metric-card">
                    <div class="display-4 mb-2">
                        <i class="fas fa-network-wired" style="color: #28a745"></i>
                    </div>
                    <h5 class="text-white">Conectividad MPLS</h5>
                    <h3 class="text-white">991 Mbps</h3>
                    <small class="text-light">Latencia: 2.6ms</small>
                </div>
            </div>
            <div class="col-md-3">
                <div class="glass-card p-4 text-center metric-card">
                    <div class="display-4 mb-2">
                        <i class="fas fa-radio" style="color: #17a2b8"></i>
                    </div>
                    <h5 class="text-white">Espectro ElectromagnÃ©tico</h5>
                    <h3 class="text-white">84.5%</h3>
                    <small class="text-light">Calidad de canal</small>
                </div>
            </div>
        </div>

        <!-- Network Topology Visualization -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="glass-card p-4">
                    <h5 class="text-white mb-3">
                        <i class="fas fa-project-diagram me-2"></i>
                        TopologÃ­a de Red Industrial
                        <span class="badge bg-success ms-2">
                            MPLS DCI ACTIVO
                        </span>
                    </h5>

                    <!-- Visual Network Diagram -->
                    <div class="row">
                        <div class="col-md-6">
                            <div class="network-node">
                                <i class="fas fa-building fa-2x mb-2"></i><br>
                                SmartCompute Enterprise<br>
                                <small>Oficinas Corporativas</small>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="network-node">
                                <i class="fas fa-industry fa-2x mb-2"></i><br>
                                SmartCompute Industrial<br>
                                <small>Planta de ProducciÃ³n</small>
                            </div>
                        </div>
                    </div>

                    <div class="network-connection"></div>
                    <div class="text-center text-white mb-3">
                        <strong>MPLS Data Center Interconnect</strong><br>
                        <small>Latencia: 2.6ms |
                        Ancho de banda: 991Mbps |
                        PÃ©rdida de paquetes: 0.01%</small>
                    </div>

                    <!-- Industrial Network Segments -->
                    <div class="row">
                        <div class="col-md-3">
                            <div class="card bg-dark border-info">
                                <div class="card-body text-center">
                                    <i class="fas fa-desktop text-info fa-2x mb-2"></i>
                                    <h6 class="text-white">Red SCADA</h6>
                                    <h4 class="text-info">24</h4>
                                    <small class="text-light">dispositivos</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card bg-dark border-warning">
                                <div class="card-body text-center">
                                    <i class="fas fa-cogs text-warning fa-2x mb-2"></i>
                                    <h6 class="text-white">Red de Control</h6>
                                    <h4 class="text-warning">18</h4>
                                    <small class="text-light">dispositivos</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card bg-dark border-danger">
                                <div class="card-body text-center">
                                    <i class="fas fa-exclamation-triangle text-danger fa-2x mb-2"></i>
                                    <h6 class="text-white">Red de Seguridad</h6>
                                    <h4 class="text-danger">12</h4>
                                    <small class="text-light">dispositivos</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card bg-dark border-success">
                                <div class="card-body text-center">
                                    <i class="fas fa-wifi text-success fa-2x mb-2"></i>
                                    <h6 class="text-white">Red InalÃ¡mbrica</h6>
                                    <h4 class="text-success">31</h4>
                                    <small class="text-light">dispositivos</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Charts Row -->
        <div class="row mb-4">
            <div class="col-md-6">
                <div class="glass-card p-4">
                    <h5 class="text-white mb-3">
                        <i class="fas fa-chart-line me-2"></i>
                        AnÃ¡lisis de Espectro ElectromagnÃ©tico
                    </h5>
                    <div class="chart-container">
                        <canvas id="spectrumChart"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="glass-card p-4">
                    <h5 class="text-white mb-3">
                        <i class="fas fa-shield-alt me-2"></i>
                        Amenazas de Seguridad
                    </h5>
                    <div class="chart-container">
                        <canvas id="securityChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Industrial Protocols Row -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="glass-card p-4">
                    <h5 class="text-white mb-3">
                        <i class="fas fa-ethernet me-2"></i>
                        Protocolos Industriales
                        <span class="badge bg-info ms-2">
                            5 protocolos activos
                        </span>
                    </h5>

                    <div class="row">
                        <div class="col-md-2">
                            <div class="protocol-badge">
                                <strong>MODBUS TCP</strong><br>
                                <small>15 conexiones</small><br>
                                <span class="badge bg-success">HEALTHY</span>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="protocol-badge">
                                <strong>PROFINET</strong><br>
                                <small>8 conexiones</small><br>
                                <span class="badge bg-success">HEALTHY</span>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="protocol-badge">
                                <strong>ETHERNET IP</strong><br>
                                <small>12 conexiones</small><br>
                                <span class="badge bg-warning">MINOR_ISSUES</span>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="protocol-badge">
                                <strong>S7COMM</strong><br>
                                <small>6 conexiones</small><br>
                                <span class="badge bg-success">HEALTHY</span>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="protocol-badge">
                                <strong>OPC UA</strong><br>
                                <small>20 conexiones</small><br>
                                <span class="badge bg-success">HEALTHY</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Production KPIs and Alarms -->
        <div class="row mb-4">
            <div class="col-md-8">
                <div class="glass-card p-4">
                    <h5 class="text-white mb-3">
                        <i class="fas fa-chart-bar me-2"></i>
                        KPIs de ProducciÃ³n
                    </h5>
                    <div class="chart-container-small">
                        <canvas id="productionChart"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="glass-card p-4">
                    <h5 class="text-white mb-3">
                        <i class="fas fa-exclamation-circle me-2"></i>
                        Estado de Alarmas
                    </h5>
                    <div class="mb-3">
                        <div class="d-flex justify-content-between align-items-center text-white mb-2">
                            <span><span class="alarm-indicator alarm-critical"></span>CrÃ­ticas</span>
                            <span class="badge bg-danger">0</span>
                        </div>
                        <div class="d-flex justify-content-between align-items-center text-white mb-2">
                            <span><span class="alarm-indicator alarm-high"></span>Altas</span>
                            <span class="badge bg-warning">5</span>
                        </div>
                        <div class="d-flex justify-content-between align-items-center text-white mb-2">
                            <span><span class="alarm-indicator alarm-medium"></span>Medias</span>
                            <span class="badge bg-info">9</span>
                        </div>
                        <div class="d-flex justify-content-between align-items-center text-white mb-2">
                            <span><span class="alarm-indicator alarm-low"></span>Bajas</span>
                            <span class="badge bg-success">15</span>
                        </div>
                    </div>

                    <hr class="border-light">

                    <h6 class="text-white mb-2">Operaciones Batch</h6>
                    <div class="text-center">
                        <h3 class="text-info">4</h3>
                        <small class="text-light">en ejecuciÃ³n</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Compliance Standards -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="glass-card p-4">
                    <h5 class="text-white mb-3">
                        <i class="fas fa-certificate me-2"></i>
                        ISA/IEC 62443
                    </h5>
                    <div class="text-center mb-3">
                        <h3 class="text-info">90.3%</h3>
                        <small class="text-light">Cumplimiento SL-3</small>
                    </div>
                    <div class="text-white">
                        <small><strong>Recomendaciones principales:</strong></small>
                        <ul class="text-light" style="font-size: 0.8rem;"><li>Implementar autenticaciÃ³n multifactor para operadores</li><li>Mejorar segmentaciÃ³n de red industrial</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="glass-card p-4">
                    <h5 class="text-white mb-3">
                        <i class="fas fa-shield-alt me-2"></i>
                        IEC 61508/61511
                    </h5>
                    <div class="text-center mb-3">
                        <h3 class="text-warning">89.3%</h3>
                        <small class="text-light">Nivel SIL-2</small>
                    </div>
                    <div class="text-white">
                        <small><strong>Funciones de seguridad:</strong></small><br>
                        <span class="badge bg-success">17 activas</span>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="glass-card p-4">
                    <h5 class="text-white mb-3">
                        <i class="fas fa-flag-usa me-2"></i>
                        NIST CSF
                    </h5>
                    <div class="text-center mb-3">
                        <h3 class="text-success">87.3%</h3>
                        <small class="text-light">Nivel Developing</small>
                    </div>
                    <div class="text-white">
                        <small><strong>Funciones evaluadas:</strong></small><br>
                        <span class="badge bg-info">5/5</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Export Controls -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="glass-card p-4 text-center">
                    <h5 class="text-white mb-3">
                        <i class="fas fa-download me-2"></i>
                        ExportaciÃ³n de Reportes
                    </h5>
                    <button class="export-btn" onclick="exportReport('pdf')">
                        <i class="fas fa-file-pdf me-2"></i>Exportar PDF
                    </button>
                    <button class="export-btn" onclick="exportReport('excel')">
                        <i class="fas fa-file-excel me-2"></i>Exportar Excel
                    </button>
                    <button class="export-btn" onclick="exportReport('json')">
                        <i class="fas fa-code me-2"></i>Exportar JSON
                    </button>
                    <button class="export-btn" onclick="exportReport('html')">
                        <i class="fas fa-file-code me-2"></i>Exportar HTML
                    </button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="row">
            <div class="col-12">
                <div class="glass-card p-3 text-center">
                    <div class="text-white">
                        <small>
                            <i class="fas fa-clock me-1"></i>
                            Ãšltima actualizaciÃ³n: 2025-09-19 16:02:55 |
                            <i class="fas fa-envelope me-1"></i>
                            <a href="mailto:ggwre04p0@mozmail.com" class="text-info">ggwre04p0@mozmail.com</a> |
                            <i class="fab fa-linkedin me-1"></i>
                            <a href="https://www.linkedin.com/in/martÃ­n-iribarne-swtf/" class="text-info" target="_blank">LinkedIn</a>
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ConfiguraciÃ³n global mejorada
        Chart.defaults.font.family = "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif";
        Chart.defaults.color = '#ffffff';

        // Datos dinÃ¡micos (convertir timestamps a strings)
        const realTimeData = {
        "timestamp": "2025-09-19 16:02:55.706557",
        "system_health": {
                "overall_score": 90.11129268964231,
                "cpu_usage": 9.65983843219253,
                "memory_usage": 74.52908981791285,
                "temperature": 51.69624090918582,
                "uptime_hours": 1255
        },
        "network_topology": {
                "mpls_dci_status": "ACTIVE",
                "enterprise_bridge": {
                        "status": "CONNECTED",
                        "latency_ms": 2.6309440739384247,
                        "bandwidth_mbps": 990.6796700700014,
                        "packet_loss": 0.00626859508947949
                },
                "industrial_segments": {
                        "scada_network": {
                                "devices": 24,
                                "status": "OPERATIONAL"
                        },
                        "control_network": {
                                "devices": 18,
                                "status": "OPERATIONAL"
                        },
                        "safety_network": {
                                "devices": 12,
                                "status": "OPERATIONAL"
                        },
                        "wireless_network": {
                                "devices": 31,
                                "status": "OPERATIONAL"
                        }
                }
        },
        "industrial_protocols": {
                "modbus_tcp": {
                        "connections": 15,
                        "errors": 0,
                        "status": "HEALTHY"
                },
                "profinet": {
                        "connections": 8,
                        "errors": 0,
                        "status": "HEALTHY"
                },
                "ethernet_ip": {
                        "connections": 12,
                        "errors": 1,
                        "status": "MINOR_ISSUES"
                },
                "s7comm": {
                        "connections": 6,
                        "errors": 0,
                        "status": "HEALTHY"
                },
                "opc_ua": {
                        "connections": 20,
                        "errors": 0,
                        "status": "HEALTHY"
                }
        },
        "electromagnetic_spectrum": {
                "bands": {
                        "2.4_ghz": {
                                "frequency": "2.4GHz",
                                "power_dbm": -55.72550065347548,
                                "interference_detected": false,
                                "channel_quality": 92.17297112451912
                        },
                        "868_mhz": {
                                "frequency": "868MHz",
                                "power_dbm": -45.393793617152,
                                "interference_detected": true,
                                "channel_quality": 91.72431122804997
                        },
                        "5_ghz": {
                                "frequency": "5GHz",
                                "power_dbm": -61.27322691137747,
                                "interference_detected": true,
                                "channel_quality": 89.32403582497199
                        }
                },
                "spectrum_quality_overall": 84.46193591684538
        },
        "security_analysis": {
                "overall_score": 94.15043400885386,
                "vulnerabilities": {
                        "critical": 1,
                        "high": 3,
                        "medium": 8,
                        "low": 15
                },
                "threat_intelligence": {
                        "active_threats": 3,
                        "blocked_attempts": 135,
                        "malware_detected": 0
                }
        },
        "compliance_standards": {
                "isa_iec_62443": {
                        "level": "SL-3",
                        "compliance_percentage": 90.33737944253383,
                        "gaps": 2,
                        "recommendations": [
                                "Implementar autenticaci\u00f3n multifactor para operadores",
                                "Mejorar segmentaci\u00f3n de red industrial",
                                "Actualizar pol\u00edticas de acceso remoto"
                        ]
                },
                "iec_61508": {
                        "sil_level": "SIL-2",
                        "compliance_percentage": 89.30792495170365,
                        "safety_functions": 17
                },
                "nist_csf": {
                        "maturity_level": "Developing",
                        "compliance_percentage": 87.28149135997941,
                        "functions_assessed": 5
                }
        },
        "industrial_processes": {
                "active_processes": 32,
                "batch_operations": 4,
                "alarms": {
                        "critical": 0,
                        "high": 5,
                        "medium": 9,
                        "low": 15
                },
                "production_kpis": {
                        "efficiency": 93.60005199019297,
                        "quality": 98.36611184901786,
                        "availability": 97.18959540167766
                }
        }
};

        // GrÃ¡fico de Espectro ElectromagnÃ©tico
        const spectrumCtx = document.getElementById('spectrumChart').getContext('2d');
        const spectrumChart = new Chart(spectrumCtx, {
            type: 'line',
            data: {
                labels: ['2.4GHz', '868MHz', '5GHz'],
                datasets: [{
                    label: 'Potencia (dBm)',
                    data: [
                        realTimeData.electromagnetic_spectrum.bands['2.4_ghz'].power_dbm,
                        realTimeData.electromagnetic_spectrum.bands['868_mhz'].power_dbm,
                        realTimeData.electromagnetic_spectrum.bands['5_ghz'].power_dbm
                    ],
                    borderColor: '#4ECDC4',
                    backgroundColor: 'rgba(78, 205, 196, 0.2)',
                    fill: true,
                    tension: 0.4
                }, {
                    label: 'Calidad de Canal (%)',
                    data: [
                        realTimeData.electromagnetic_spectrum.bands['2.4_ghz'].channel_quality,
                        realTimeData.electromagnetic_spectrum.bands['868_mhz'].channel_quality,
                        realTimeData.electromagnetic_spectrum.bands['5_ghz'].channel_quality
                    ],
                    borderColor: '#FF6B6B',
                    backgroundColor: 'rgba(255, 107, 107, 0.2)',
                    fill: true,
                    tension: 0.4,
                    yAxisID: 'y1'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: {
                            color: '#ffffff'
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: {
                            color: '#ffffff'
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    },
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        ticks: {
                            color: '#ffffff'
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        },
                        title: {
                            display: true,
                            text: 'Potencia (dBm)',
                            color: '#ffffff'
                        }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        ticks: {
                            color: '#ffffff'
                        },
                        grid: {
                            drawOnChartArea: false,
                        },
                        title: {
                            display: true,
                            text: 'Calidad (%)',
                            color: '#ffffff'
                        }
                    }
                }
            }
        });

        // GrÃ¡fico de Seguridad
        const securityCtx = document.getElementById('securityChart').getContext('2d');
        const securityChart = new Chart(securityCtx, {
            type: 'doughnut',
            data: {
                labels: ['CrÃ­ticas', 'Altas', 'Medias', 'Bajas'],
                datasets: [{
                    data: [
                        realTimeData.security_analysis.vulnerabilities.critical,
                        realTimeData.security_analysis.vulnerabilities.high,
                        realTimeData.security_analysis.vulnerabilities.medium,
                        realTimeData.security_analysis.vulnerabilities.low
                    ],
                    backgroundColor: [
                        '#dc3545',
                        '#fd7e14',
                        '#ffc107',
                        '#28a745'
                    ],
                    borderWidth: 2,
                    borderColor: '#ffffff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            color: '#ffffff'
                        }
                    }
                }
            }
        });

        // GrÃ¡fico de KPIs de ProducciÃ³n
        const productionCtx = document.getElementById('productionChart').getContext('2d');
        const productionChart = new Chart(productionCtx, {
            type: 'bar',
            data: {
                labels: ['Eficiencia', 'Calidad', 'Disponibilidad'],
                datasets: [{
                    label: 'KPIs de ProducciÃ³n (%)',
                    data: [
                        realTimeData.industrial_processes.production_kpis.efficiency,
                        realTimeData.industrial_processes.production_kpis.quality,
                        realTimeData.industrial_processes.production_kpis.availability
                    ],
                    backgroundColor: [
                        'rgba(78, 205, 196, 0.8)',
                        'rgba(255, 107, 107, 0.8)',
                        'rgba(52, 152, 219, 0.8)'
                    ],
                    borderColor: [
                        '#4ECDC4',
                        '#FF6B6B',
                        '#3498db'
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: {
                            color: '#ffffff'
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: {
                            color: '#ffffff'
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    },
                    y: {
                        beginAtZero: true,
                        max: 100,
                        ticks: {
                            color: '#ffffff'
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    }
                }
            }
        });

        // FunciÃ³n de exportaciÃ³n
        function exportReport(format) {
            const timestamp = new Date().toISOString().slice(0, 19).replace(/:/g, '-');
            let filename = `smartcompute_industrial_${format}_${timestamp}`;

            switch(format) {
                case 'pdf':
                    window.print();
                    break;
                case 'excel':
                    alert('Funcionalidad de exportaciÃ³n a Excel - PrÃ³ximamente');
                    break;
                case 'json':
                    const dataStr = JSON.stringify(realTimeData, null, 2);
                    const dataBlob = new Blob([dataStr], {type: 'application/json'});
                    const url = URL.createObjectURL(dataBlob);
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = filename + '.json';
                    link.click();
                    break;
                case 'html':
                    const htmlContent = document.documentElement.outerHTML;
                    const htmlBlob = new Blob([htmlContent], {type: 'text/html'});
                    const htmlUrl = URL.createObjectURL(htmlBlob);
                    const htmlLink = document.createElement('a');
                    htmlLink.href = htmlUrl;
                    htmlLink.download = filename + '.html';
                    htmlLink.click();
                    break;
            }
        }

        // ActualizaciÃ³n en tiempo real cada 10 segundos
        function updateRealTimeData() {
            // Simular nuevos datos
            const newData = {
                spectrum: {
                    '2.4_ghz': Math.random() * 20 - 65,
                    '868_mhz': Math.random() * 20 - 60,
                    '5_ghz': Math.random() * 20 - 70
                },
                vulnerabilities: {
                    critical: Math.floor(Math.random() * 3),
                    high: Math.floor(Math.random() * 5),
                    medium: Math.floor(Math.random() * 8) + 2,
                    low: Math.floor(Math.random() * 10) + 5
                },
                production: {
                    efficiency: Math.random() * 14 + 82,
                    quality: Math.random() * 4.5 + 95,
                    availability: Math.random() * 10 + 88
                }
            };

            // Actualizar grÃ¡fico de espectro
            spectrumChart.data.datasets[0].data = [
                newData.spectrum['2.4_ghz'],
                newData.spectrum['868_mhz'],
                newData.spectrum['5_ghz']
            ];
            spectrumChart.update('none');

            // Actualizar grÃ¡fico de seguridad
            securityChart.data.datasets[0].data = [
                newData.vulnerabilities.critical,
                newData.vulnerabilities.high,
                newData.vulnerabilities.medium,
                newData.vulnerabilities.low
            ];
            securityChart.update('none');

            // Actualizar grÃ¡fico de producciÃ³n
            productionChart.data.datasets[0].data = [
                newData.production.efficiency,
                newData.production.quality,
                newData.production.availability
            ];
            productionChart.update('none');

            console.log('Dashboard actualizado:', new Date().toLocaleTimeString());
        }

        // Iniciar actualizaciones automÃ¡ticas
        setInterval(updateRealTimeData, 10000);

        console.log('SmartCompute Industrial Dashboard iniciado');
    </script>
</body>
</html>